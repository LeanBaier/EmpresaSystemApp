import{_ as b,i as _,u as g,c as i,a as t,d as v,e as c,v as m,t as n,f as d,b as p,w as N,n as k,g as u,o as l,h as V}from"./index-3fwSCxJc.js";const w={data:()=>({name:"",lastname:"",birthdate:"",errorName:"",errorLastname:"",errorBirthdate:"",textInputOptions:{format:"dd/MM/yyyy"},created:!1,loading:!1}),updated(){this.created&&_.push("/employees")},methods:{async createEmployee(){if(this.loading=!0,this.name?this.errorName="":this.errorName="Debe ingresar un nombre",this.lastname?this.errorLastname="":this.errorLastname="Debe ingresar el apellido",this.birthdate?this.errorLastname="":this.errorBirthdate="Debe seleccionar una fecha de nacimiento",this.errorName||this.errorLastname||this.errorBirthdate){this.loading=!1;return}let e=this.birthdate,s={name:this.name,lastname:this.lastname,birthdate:e.getDate()+"-"+e.getMonth()+"-"+e.getFullYear()},o=new Headers;o.append("Authorization",g().getAccessToken),o.append("Content-Type","application/json"),await fetch("http://localhost:8080/api/v1/employees",{method:"POST",headers:o,body:JSON.stringify(s)}).then(r=>{this.created=r.ok,this.loading=!1}).catch(r=>console.log(r))}}},L={class:"columns is-centered m-6"},B={class:"column is-half-desktop"},D={class:"field"},M=t("label",{class:"label"},"Nombre",-1),C={class:"control"},E={key:0,class:"help is-danger"},S={class:"field"},T=t("label",{class:"label"},"Apellido",-1),A={class:"control"},O={key:0,class:"help is-danger"},I={class:"field"},P=t("label",{class:"label"},"Fecha Nacimiento",-1),U=t("p",{class:"help"}," Ejemplo: 31/01/2024",-1),j={key:0,class:"help is-danger"},z={class:"control"},F={class:"field is-grouped is-grouped-right"},R={class:"control"};function $(e,s,o,r,G,h){const f=u("VueDatePicker"),y=u("RouterLink");return l(),i("div",L,[t("div",B,[t("form",{onSubmit:s[3]||(s[3]=v((...a)=>h.createEmployee&&h.createEmployee(...a),["prevent"]))},[t("div",D,[M,t("div",C,[c(t("input",{class:"input","onUpdate:modelValue":s[0]||(s[0]=a=>e.name=a),type:"text",placeholder:"Nombre"},null,512),[[m,e.name]])]),e.errorName?(l(),i("p",E,n(e.errorName),1)):d("",!0)]),t("div",S,[T,t("div",A,[c(t("input",{class:"input","onUpdate:modelValue":s[1]||(s[1]=a=>e.lastname=a),type:"text",placeholder:"Apellido"},null,512),[[m,e.lastname]])]),e.errorLastname?(l(),i("p",O,n(e.errorLastname),1)):d("",!0)]),t("div",I,[P,U,e.errorBirthdate?(l(),i("p",j,n(e.errorBirthdate),1)):d("",!0),t("div",z,[p(f,{class:"is-fullwidht is-primary-light",modelValue:e.birthdate,"onUpdate:modelValue":s[2]||(s[2]=a=>e.birthdate=a),format:"dd/MM/yyyy","text-input":e.textInputOptions,placeholder:"Ingresa la fecha de nacimiento..."},null,8,["modelValue","text-input"])])]),t("div",F,[t("div",R,[p(y,{to:"/employees",class:"button is-primary is-light"},{default:N(()=>[V("Cancelar")]),_:1})]),t("button",{class:k(["button is-primary",{"is-loading":e.loading}]),type:"submit"},"Guardar",2)])],32)])])}const J=b(w,[["render",$]]);export{J as default};
